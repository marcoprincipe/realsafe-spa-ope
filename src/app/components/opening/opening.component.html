<rs-text-dialog></rs-text-dialog>

<ng-vk-keyboard
    (onEnterClicked)="onEnterClicked($event)"
    (onCancelClicked)="onCancelClicked($event)">
</ng-vk-keyboard>

<div class="container">

    <div class="row" style="margin-top:2vh">

        <div class="col-sm-12">
            <div class="form-header">
                <div class="text-center">Abertura do terminal</div>
            </div>
        </div>

    </div>

    <form>

        <div class="form-content" style="margin-top:2vh;">

            <div class="form-row">

                <div class="col-sm-1"></div>

                <div class="col-sm-10">
                    <label for="lastClosingDateTime">Último fechamento :</label>
                </div>

                <div class="col-sm-1"></div>

                <div class="col-sm-1"></div>

                <div class="col-sm-10">
                    <hr style="margin-top:0rem;">
                </div>

                <div class="col-sm-1"></div>

            </div>

            <div class="form-row">

                <div class="col-sm-1"></div>

                <div class="form-group col-sm-5">
                    <input [ngModel]="form.lastClosingDateTime | date : 'dd/MM/yyyy HH:mm' : 'UTC'" readonly="true"
                        tabindex="-1" type="text" class="form-control text-center" id="lastClosingDateTime" name="lastClosingDateTime"> 
                </div>

                <div class="form-group col-sm-5">
                    <input [ngModel]="form.lastClosingAmount | currency : 'BRL'" readonly="true"
                        tabindex="-1" type="text" class="form-control text-right" id="lastClosingAmount" name="lastClosingAmount"> 
                </div>

                <div class="col-sm-1"></div>

            </div>

            <div class="form-row">

                <div class="col-sm-1"></div>

                <div class="col-sm-6">
                    <label for="openingDateTime">Abertura :</label>
                </div>

                <div class="col-sm-4">
                    <label for="accountingDate">Data contábil :</label>
                </div>

                <div class="col-sm-1"></div>

                <div class="col-sm-1"></div>

                <div class="col-sm-6">
                    <hr style="margin-top:0rem;">
                </div>

                <div class="col-sm-4">
                    <hr style="margin-top:0rem;">
                </div>

                <div class="col-sm-1"></div>

            </div>
    
            <div class="form-row">

                <div class="col-sm-1"></div>

                <div class="form-group col-sm-3">
                    <input [ngModel]="form.openingDateTime | date : 'dd/MM/yyyy HH:mm' : 'UTC'" readonly="true"
                        tabindex="-1" type="text" class="form-control text-center" id="openingDateTime" name="openingDateTime"> 
                </div>

                <div class="form-group col-sm-3">
                    <input [ngModel]="form.amountInSafe | currency : 'BRL'"  readonly="true"
                        tabindex="-1" type="text" class="form-control text-right" id="amountInSafe" name="amountInSafe"> 
                </div>

                <div *ngIf="useVK === true" class="form-group col-sm-4">
                    <input [(ngModel)]="form.accountingDate" placeholder="dd/mm/aaaa"
                        type="text" class="form-control text-center" id="accountingDate" name="accountingDate" maxlength="10"
                        (click)="showKeyboard({ 'fieldId': 'accountingDate', 'isNumeric': true, 'maxLength': 8 })"
                        [setFocus]='{"field": "btnConfirm", "allowEmpty": false}'> 
                </div>

                <div *ngIf="useVK === false" class="form-group col-sm-4">
                    <input [(ngModel)]="form.accountingDate" placeholder="dd/mm/aaaa"
                        type="text" class="form-control" id="accountingDate" name="accountingDate" maxlength="10"
                        [setFocus]='{"field": "btnConfirm", "allowEmpty": false}'> 
                </div>
    
                <div class="col-sm-1"></div>

            </div>

            <div class="form-row">
    
                <div class="col-sm-1"></div>
    
                <div class="col-sm-10">
                    <hr style="margin-top:0rem;">
                </div>
    
                <div class="col-sm-1"></div>
    
            </div>
        
            <div class="form-row">
    
                <div class="col-sm-1"></div>
    
                <div class="form-check col-sm-10 text-center">
                    <input [ngModel]="form.etvClosing" type="checkbox" class="form-check-input" id="etvClosing" name="etvClosing"> 
                    <label class="form-check-label" for="etvClosing">&nbsp;&nbsp;&nbsp;Fechamento pela ETV</label>
                </div>
    
                <div class="col-sm-1"></div>
    
            </div>
    
        </div>

    </form>

    <div class="row" style="margin-top:2vh;">
        <div class="col-sm-6">
            <button id="btnConfirm" (click)="onConfirm()" [disabled]="disableBtnConfirm()" type="button" class="btn btn-primary btn-block">Confirmar</button>
        </div>
        <div class="col-sm-6">
            <button id="btnCancel" (click)="onCancel()" type="button" class="btn btn-danger btn-block">Cancelar</button>
        </div>
    </div>        

</div>
